# AGENTS.md ‚Äî Tarot Mini App

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Telegram Mini App –¥–ª—è –≥–∞–¥–∞–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç–∞—Ö –¢–∞—Ä–æ.

---

## üìã 1. –û–ë–©–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

**–ü—Ä–æ–µ–∫—Ç:** Tarot Mini App  
**–î–æ–º–µ–Ω:** https://goldtarot.ru  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** Telegram WebApp + Web (–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π)  
**–°—Ç–µ–∫:** Vanilla JavaScript, Vite, CSS3, Node.js  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (v1.1.0)

---

## üé® 2. –î–ò–ó–ê–ô–ù –ò –í–ò–ó–£–ê–õ–¨–ù–ê–Ø –ö–û–ù–¶–ï–ü–¶–ò–Ø

### –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞
```css
--bg-color: #1a0b2e;          /* –ì–ª—É–±–æ–∫–∏–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π */
--bg-gradient: linear-gradient(135deg, #1a0b2e 0%, #2d1f4e 50%, #1a0b2e 100%);
--gold: #d4af37;              /* –ó–æ–ª–æ—Ç–æ */
--gold-light: #f4d06f;        /* –°–≤–µ—Ç–ª–æ–µ –∑–æ–ª–æ—Ç–æ */
--text-primary: #f5f5f5;      /* –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç */
--text-secondary: rgba(245, 245, 245, 0.7);
```

### –®—Ä–∏—Ñ—Ç—ã
- **–ó–∞–≥–æ–ª–æ–≤–∫–∏:** `'Cormorant Garamond', serif`
- **–û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç:** —Å–∏—Å—Ç–µ–º–Ω—ã–π —à—Ä–∏—Ñ—Ç —Å –∑–∞—Å–µ—á–∫–∞–º–∏

### –ê—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- ‚ú® –ó–≤—ë–∑–¥–Ω—ã–π —Ñ–æ–Ω (Canvas –∞–Ω–∏–º–∞—Ü–∏—è)
- ‚ú® –ß–∞—Å—Ç–∏—Ü—ã –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–µ –∫–∞—Ä—Ç
- ‚ú® –°–≤–µ—á–µ–Ω–∏–µ –∫–∞—Ä—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
- ‚ú® –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ (120 –ì—Ü –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

---

## üé¥ 3. –ú–ï–•–ê–ù–ò–ö–ê –†–ê–ë–û–¢–´ –° –ö–ê–†–¢–ê–ú–ò

### 3.1. –ö–æ–ª–æ–¥–∞
- **–ü–æ–ª–Ω–∞—è –∫–æ–ª–æ–¥–∞:** 78 –∫–∞—Ä—Ç (22 –°—Ç–∞—Ä—à–∏—Ö –ê—Ä–∫–∞–Ω–∞ + 56 –ú–ª–∞–¥—à–∏—Ö)
- **–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:** 22 –°—Ç–∞—Ä—à–∏—Ö –ê—Ä–∫–∞–Ω–∞ (MVP)
- **–†—É–±–∞—à–∫–∞:** –ï–¥–∏–Ω—ã–π –º–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω (–∑–æ–ª–æ—Ç–æ –Ω–∞ —Ñ–∏–æ–ª–µ—Ç–æ–≤–æ–º)

### 3.2. –†–∞—Å–∫–ª–∞–¥—ã

#### –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ä–∞—Å–∫–ª–∞–¥ (3 –∫–∞—Ä—Ç—ã)
```
[–ü—Ä–æ—à–ª–æ–µ] [–ù–∞—Å—Ç–æ—è—â–µ–µ] [–ë—É–¥—É—â–µ–µ]
```

#### –†–∞—Å–∫–ª–∞–¥ ¬´–ü—É—Ç—å¬ª (7 –∫–∞—Ä—Ç) ‚Äî –•–∞–π–æ –ë–∞–Ω—Ü—Ö–∞—Ñ
```
     [2]     [7]
    [3]  [1]  [6]
     [4]     [5]
```

**–ü–æ–∑–∏—Ü–∏–∏:**
1. **–°—É—Ç—å –≤–æ–ø—Ä–æ—Å–∞** (—Ü–µ–Ω—Ç—Ä) ‚Äî –∏—Å—Ç–∏–Ω–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤–µ—â–µ–π
2. **–ü—Ä–æ—à–ª–æ–µ ‚Äî –º–µ–Ω—Ç–∞–ª—å–Ω—ã–π** (–≤–µ—Ä—Ö –ª–µ–≤–æ) ‚Äî –º—ã—Å–ª–∏, –∏–¥–µ–∏
3. **–ü—Ä–æ—à–ª–æ–µ ‚Äî –∞—Å—Ç—Ä–∞–ª—å–Ω—ã–π** (—Ü–µ–Ω—Ç—Ä –ª–µ–≤–æ) ‚Äî —ç–º–æ—Ü–∏–∏, —á—É–≤—Å—Ç–≤–∞
4. **–ü—Ä–æ—à–ª–æ–µ ‚Äî —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π** (–Ω–∏–∑ –ª–µ–≤–æ) ‚Äî –¥–µ–π—Å—Ç–≤–∏—è, –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞
5. **–ë—É–¥—É—â–µ–µ ‚Äî —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π** (–Ω–∏–∑ –ø—Ä–∞–≤–æ) ‚Äî —Å–æ–≤–µ—Ç –ø–æ –¥–µ–π—Å—Ç–≤–∏—è–º
6. **–ë—É–¥—É—â–µ–µ ‚Äî –∞—Å—Ç—Ä–∞–ª—å–Ω—ã–π** (—Ü–µ–Ω—Ç—Ä –ø—Ä–∞–≤–æ) ‚Äî —Å–æ–≤–µ—Ç –ø–æ —ç–º–æ—Ü–∏—è–º
7. **–ë—É–¥—É—â–µ–µ ‚Äî –º–µ–Ω—Ç–∞–ª—å–Ω—ã–π** (–≤–µ—Ä—Ö –ø—Ä–∞–≤–æ) ‚Äî —Å–æ–≤–µ—Ç –ø–æ –º—ã—à–ª–µ–Ω–∏—é

### 3.3. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

1. **–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω:** –ö–æ–ª–æ–¥–∞ —Ä—É–±–∞—à–∫–æ–π –≤–≤–µ—Ä—Ö + –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
2. **–¢–∞—Å–æ–≤–∫–∞:** –ö–ª–∏–∫ –ø–æ –∫–æ–ª–æ–¥–µ ‚Üí –∞–Ω–∏–º–∞—Ü–∏—è + –∑–≤—É–∫
3. **–í—ã–±–æ—Ä —Ä–∞—Å–∫–ª–∞–¥–∞:** 2 –∫–Ω–æ–ø–∫–∏ (–µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π / –Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—é)
4. **–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è:** 7 —Å–µ–∫—É–Ω–¥ —Å –ø–µ—Å–æ—á–Ω—ã–º–∏ —á–∞—Å–∞–º–∏
5. **–ê–∫—Ç–∏–≤–∞—Ü–∏—è:** –ö–Ω–æ–ø–∫–∞ –ò–õ–ò –≤—Å—Ç—Ä—è—Ö–∏–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
6. **–ü–µ—Ä–µ–≤–æ—Ä–æ—Ç –∫–∞—Ä—Ç:** –ö–ª–∏–∫ ‚Üí –∫–∞—Ä—Ç–∞ –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è —Å —á–∞—Å—Ç–∏—Ü–∞–º–∏
7. **–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π:** –ö–ª–∏–∫ –ø–æ —Ä–∞—Å–∫—Ä—ã—Ç–æ–π –∫–∞—Ä—Ç–µ ‚Üí —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
8. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å —Ç–∞—Ä–æ–ª–æ–≥–æ–º¬ª

---

## üß© 4. –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –°–¢–ï–ö

### Frontend
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|------------|
| **–Ø–∑—ã–∫** | Vanilla JavaScript (ES6+) |
| **–°–±–æ—Ä—â–∏–∫** | Vite |
| **–°—Ç–∏–ª–∏** | CSS3 —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º |
| **–ê–Ω–∏–º–∞—Ü–∏–∏** | `transform`, `opacity`, Canvas |
| **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** | WebP |

### Backend (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|------------|
| **–°–µ—Ä–≤–µ—Ä** | Node.js + Express |
| **–ë–î** | PostgreSQL / SQLite |
| **WebSocket** | Socket.io (—á–∞—Ç—ã) |
| **–ö—ç—à** | Redis |
| **Telegram** | Bot API + Stars |

---

## üìÅ 5. –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

```
tarot-miniapp/
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ index.html              # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ style.css           # –í—Å–µ —Å—Ç–∏–ª–∏ (1188 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.js             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (522 —Å—Ç—Ä–æ–∫–∏)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cards.js            # –î–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç (370 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ animations.js       # –ê–Ω–∏–º–∞—Ü–∏–∏ (128 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sound.js            # –ó–≤—É–∫ —Ç–∞—Å–æ–≤–∫–∏ (30 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ shake.js            # –î–µ—Ç–µ–∫—Ü–∏—è –≤—Å—Ç—Ä—è—Ö–∏–≤–∞–Ω–∏—è (68 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ spreads.js          # –õ–æ–≥–∏–∫–∞ —Ä–∞—Å–∫–ª–∞–¥–æ–≤ (36 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ description.js      # –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞—Å–∫–ª–∞–¥–∞ (118 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ       ‚îú‚îÄ‚îÄ card-backs/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ back.webp       # –†—É–±–∞—à–∫–∞ –∫–∞—Ä—Ç (187 KB)
‚îÇ       ‚îú‚îÄ‚îÄ card-faces/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ major/          # –°—Ç–∞—Ä—à–∏–µ –ê—Ä–∫–∞–Ω—ã
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ 00-fool.webp
‚îÇ       ‚îî‚îÄ‚îÄ sounds/
‚îÇ           ‚îî‚îÄ‚îÄ shuffle.mp3     # –ó–≤—É–∫ —Ç–∞—Å–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ dist/                       # –°–±–æ—Ä–∫–∞ (production)
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ vite.config.js
‚îú‚îÄ‚îÄ setup-vds.sh                # –°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ fix-nginx-root.sh           # –°–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Nginx
‚îú‚îÄ‚îÄ DEPLOY.md                   # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–µ–ø–ª–æ—è
‚îú‚îÄ‚îÄ VDS-SETUP.md                # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VDS
‚îú‚îÄ‚îÄ UPDATE-SERVER.md            # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
‚îú‚îÄ‚îÄ AGENTS.md                   # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ QWEN.md                     # –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ README.md                   # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üöÄ 6. –°–ë–û–†–ö–ê –ò –î–ï–ü–õ–û–ô

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
npm install
npm run dev          # http://localhost:3000
```

### –°–±–æ—Ä–∫–∞ production
```bash
npm run build        # ‚Üí dist/
```

### –î–µ–ø–ª–æ–π –Ω–∞ VDS
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /var/www/tarot-miniapp
/var/www/deploy.sh
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```
/var/www/tarot-miniapp/
‚îú‚îÄ‚îÄ index.html        # –ò–∑ dist/
‚îî‚îÄ‚îÄ assets/           # –ò–∑ dist/assets/
    ‚îú‚îÄ‚îÄ index-xxxxx.js
    ‚îú‚îÄ‚îÄ index-xxxxx.css
    ‚îî‚îÄ‚îÄ back-xxxxx.webp
```

---

## ‚öôÔ∏è 7. NGINX –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

```nginx
server {
    listen 80;
    listen 443 ssl;
    server_name goldtarot.ru www.goldtarot.ru;

    root /var/www/tarot-miniapp;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏
    location ~* \.(jpg|jpeg|png|gif|ico|css|js|webp|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    # Gzip
    gzip on;
    gzip_types text/plain text/css application/json application/javascript;
}
```

---

## üîë 8. TELEGRAM WEBAPP API

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```javascript
const tg = window.Telegram.WebApp;
tg.ready();
tg.expand();
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã
```javascript
tg.colorScheme              // 'dark' | 'light'
tg.HapticFeedback.impactOccurred('light')
tg.Clipboard.writeText(text, callback)
tg.showAlert(message)
tg.sendData(data)          // –û—Ç–ø—Ä–∞–≤–∫–∞ –±–æ—Ç—É
```

### Mock –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```javascript
if (import.meta.env.DEV) {
  window.Telegram = {
    WebApp: { /* mock –¥–∞–Ω–Ω—ã–µ */ }
  };
}
```

---

## üé¥ 9. –î–ê–ù–ù–´–ï –ö–ê–†–¢

### –°—Ç–∞—Ä—à–∏–µ –ê—Ä–∫–∞–Ω—ã (22 –∫–∞—Ä—Ç—ã)
```javascript
{
  id: 0,
  name: "The Fool",
  name_ru: "–®—É—Ç",
  arcana: "major",
  image: "00-fool.webp",
  description: "–ù–æ–≤–æ–µ –Ω–∞—á–∞–ª–æ, —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å, –≤–µ—Ä–∞ –≤ –ª—É—á—à–µ–µ...",
  keywords: ["–Ω–æ–≤–æ–µ –Ω–∞—á–∞–ª–æ", "–ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ", "–¥–æ–≤–µ—Ä–∏–µ"]
}
```

### –ú–ª–∞–¥—à–∏–µ –ê—Ä–∫–∞–Ω—ã (–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è)
```javascript
// 4 –º–∞—Å—Ç–∏ √ó 14 —Ä–∞–Ω–≥–æ–≤ = 56 –∫–∞—Ä—Ç
const suits = {
  wands: { name: "–ñ–µ–∑–ª—ã", element: "–û–≥–æ–Ω—å", ... },
  cups: { name: "–ö—É–±–∫–∏", element: "–í–æ–¥–∞", ... },
  swords: { name: "–ú–µ—á–∏", element: "–í–æ–∑–¥—É—Ö", ... },
  pentacles: { name: "–ü–µ–Ω—Ç–∞–∫–ª–∏", element: "–ó–µ–º–ª—è", ... }
};
```

---

## ‚ú® 10. –ê–ù–ò–ú–ê–¶–ò–ò

### –ü–µ—Ä–µ–≤–æ—Ä–æ—Ç –∫–∞—Ä—Ç—ã
```css
.card-inner {
  transition: transform 0.7s cubic-bezier(0.4, 0.0, 0.2, 1);
  transform-style: preserve-3d;
}

.card.flipped .card-inner {
  transform: rotateY(180deg);
}
```

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã
```css
.card.expanded {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(1.5);
  z-index: 1000;
  box-shadow: 0 20px 60px rgba(0,0,0,0.7);
}
```

### –ß–∞—Å—Ç–∏—Ü—ã (Canvas)
```javascript
class Particle {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.life = 1;
    this.decay = 0.02;
  }
}
```

---

## üîä 11. –ó–í–£–ö

```javascript
// sound.js
let shuffleAudio = null;

export function playShuffleSound() {
  if (!shuffleAudio) {
    shuffleAudio = new Audio('assets/sounds/shuffle.mp3');
  }
  shuffleAudio.currentTime = 0;
  shuffleAudio.play();
}
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞:** –ó–≤—É–∫ –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage).

---

## üì± 12. –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨

### –ú–æ–±–∏–ª—å–Ω—ã–µ (‚â§360px)
```css
:root {
  --card-width: 90px;
  --card-height: 144px;
}

.situation-layout {
  transform: scale(0.85);
}
```

### –î–µ—Å–∫—Ç–æ–ø (‚â•768px)
```css
:root {
  --card-width: 120px;
  --card-height: 192px;
}
```

---

## üóÑ 13. –ë–ê–ó–ê –î–ê–ù–ù–´–• (–ø–ª–∞–Ω—ã)

### –¢–∞–±–ª–∏—Ü—ã
```sql
-- tarologists
CREATE TABLE tarologists (
  id INTEGER PRIMARY KEY,
  name TEXT,
  photo_url TEXT,
  description TEXT,
  rating REAL DEFAULT 0,
  sessions_completed INTEGER DEFAULT 0
);

-- users
CREATE TABLE users (
  id INTEGER PRIMARY KEY,
  telegram_id TEXT UNIQUE,
  username TEXT
);

-- transactions
CREATE TABLE transactions (
  id INTEGER PRIMARY KEY,
  user_id INTEGER,
  tarologist_id INTEGER,
  amount_stars INTEGER,
  status TEXT,
  created_at TIMESTAMP
);

-- chat_sessions
CREATE TABLE chat_sessions (
  id INTEGER PRIMARY KEY,
  user_id INTEGER,
  tarologist_id INTEGER,
  start_time TIMESTAMP,
  end_time TIMESTAMP,
  active BOOLEAN
);
```

---

## ‚≠ê 14. –û–ü–õ–ê–¢–ê –ó–í–Å–ó–î–ê–ú–ò (–ø–ª–∞–Ω—ã)

### –§–æ—Ä–º—É–ª–∞ —Ü–µ–Ω—ã
```javascript
function calculatePrice(sessionsCompleted) {
  const level = Math.floor(sessionsCompleted / 10) + 1;
  const price = 33 * Math.pow(1.1, level - 1);
  return Math.min(Math.round(price), 333);
}
```

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- **90%** ‚Üí –¢–∞—Ä–æ–ª–æ–≥—É
- **10%** ‚Üí –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

### –ü–æ—Ç–æ–∫
1. –í—ã–±–æ—Ä —Ç–∞—Ä–æ–ª–æ–≥–∞ ‚Üí 2. –ò–Ω–≤–æ–π—Å Stars ‚Üí 3. –û–ø–ª–∞—Ç–∞ ‚Üí 4. –ß–∞—Ç (25 –º–∏–Ω) ‚Üí 5. –û—Ü–µ–Ω–∫–∞

---

## üß™ 15. –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
- [ ] –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ä–∞—Å–∫–ª–∞–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –†–∞—Å–∫–ª–∞–¥ ¬´–ü—É—Ç—å¬ª —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–µ—Å–æ—á–Ω—ã–µ —á–∞—Å—ã (7 —Å–µ–∫)
- [ ] –í—Å—Ç—Ä—è—Ö–∏–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- [ ] –ü–µ—Ä–µ–≤–æ—Ä–æ—Ç –∫–∞—Ä—Ç —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã –ø–æ –∫–ª–∏–∫—É
- [ ] –ß–∞—Å—Ç–∏—Ü—ã –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–µ
- [ ] –ó–≤—É–∫ —Ç–∞—Å–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- [ ] –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞—Å–∫–ª–∞–¥–∞
- [ ] –ö–Ω–æ–ø–∫–∞ ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª
- [ ] –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- [ ] HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìä 16. –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –õ–æ–≥–∏ Nginx
```bash
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log
```

### –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
```bash
systemctl status nginx
certbot certificates
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
/var/www/deploy.sh      # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
systemctl restart nginx # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
nginx -t                # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞
```

---

## üîÑ 17. –û–ë–ù–û–í–õ–ï–ù–ò–Ø

### v1.1.0 (—Ç–µ–∫—É—â–∞—è)
- ‚úÖ 22 –°—Ç–∞—Ä—à–∏—Ö –ê—Ä–∫–∞–Ω–∞
- ‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ä–∞—Å–∫–ª–∞–¥
- ‚úÖ –†–∞—Å–∫–ª–∞–¥ ¬´–ü—É—Ç—å¬ª
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∫–∞—Ä—Ç
- ‚úÖ –ü–µ—Å–æ—á–Ω—ã–µ —á–∞—Å—ã
- ‚úÖ –í—Å—Ç—Ä—è—Ö–∏–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- ‚úÖ HTTPS

### v1.2.0 (–ø–ª–∞–Ω—ã)
- ‚è≥ 56 –ú–ª–∞–¥—à–∏—Ö –ê—Ä–∫–∞–Ω–æ–≤
- ‚è≥ Telegram Stars –æ–ø–ª–∞—Ç–∞
- ‚è≥ –ß–∞—Ç —Å —Ç–∞—Ä–æ–ª–æ–≥–æ–º (25 –º–∏–Ω)
- ‚è≥ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
- ‚è≥ –ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å–∫–ª–∞–¥–æ–≤

### v2.0.0 (–ø–ª–∞–Ω—ã)
- ‚è≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- ‚è≥ –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚è≥ WebSocket —á–∞—Ç—ã
- ‚è≥ PostgreSQL + Redis
- ‚è≥ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

---

## üìû 18. –ö–û–ù–¢–ê–ö–¢–´

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/adolfass/miniapp_taro  
**–°–∞–π—Ç:** https://goldtarot.ru  
**Email:** romabo51@gmail.com

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞ AGENTS.md**
