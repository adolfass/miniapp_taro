/**
 * Данные карт Таро — Старшие и Младшие Арканы (78 карт)
 * Младшие Арканы генерируются динамически на основе масти и ранга
 */

// ========================================
// Старшие Арканы (22 карты)
// ========================================
export const majorArcana = [
  {
    id: 0,
    name: "The Fool",
    name_ru: "Шут",
    arcana: "major",
    image: "00-fool.webp",
    description: "<strong>Новое начало</strong>, спонтанность, <strong>вера в лучшее</strong>. Призыв довериться миру и сделать шаг в неизвестность.",
    keywords: ["новое начало", "приключение", "доверие", "невинность"]
  },
  {
    id: 1,
    name: "The Magician",
    name_ru: "Маг",
    arcana: "major",
    image: "01-magician.webp",
    description: "<strong>Сила воли</strong>, мастерство, <strong>проявление желаний</strong>. У вас есть все ресурсы для достижения цели.",
    keywords: ["мастерство", "сила воли", "проявление", "действие"]
  },
  {
    id: 2,
    name: "The High Priestess",
    name_ru: "Верховная Жрица",
    arcana: "major",
    image: "02-high-priestess.webp",
    description: "<strong>Интуиция</strong>, тайные знания, <strong>внутренний голос</strong>. Прислушайтесь к своей интуиции.",
    keywords: ["интуиция", "тайна", "подсознание", "мудрость"]
  },
  {
    id: 3,
    name: "The Empress",
    name_ru: "Императрица",
    arcana: "major",
    image: "03-empress.webp",
    description: "Плодородие, изобилие, творчество. Время созидания и наслаждения жизнью.",
    keywords: ["изобилие", "творчество", "плодородие", "гармония"]
  },
  {
    id: 4,
    name: "The Emperor",
    name_ru: "Император",
    arcana: "major",
    image: "04-emperor.webp",
    description: "Власть, структура, авторитет. Время установить порядок и взять контроль.",
    keywords: ["власть", "структура", "контроль", "стабильность"]
  },
  {
    id: 5,
    name: "The Hierophant",
    name_ru: "Иерофант",
    arcana: "major",
    image: "05-hierophant.webp",
    description: "Традиции, духовное руководство, обучение. Следуйте установленным путям.",
    keywords: ["традиции", "духовность", "обучение", "наставник"]
  },
  {
    id: 6,
    name: "The Lovers",
    name_ru: "Влюблённые",
    arcana: "major",
    image: "06-lovers.webp",
    description: "Любовь, гармония, важный выбор. Время следовать сердцу.",
    keywords: ["любовь", "гармония", "выбор", "союз"]
  },
  {
    id: 7,
    name: "The Chariot",
    name_ru: "Колесница",
    arcana: "major",
    image: "07-chariot.webp",
    description: "Победа, решимость, движение вперёд. Контролируйте противоречия и двигайтесь к цели.",
    keywords: ["победа", "решимость", "контроль", "прогресс"]
  },
  {
    id: 8,
    name: "Strength",
    name_ru: "Сила",
    arcana: "major",
    image: "08-strength.webp",
    description: "Внутренняя сила, терпение, сострадание. Мягкость побеждает грубую силу.",
    keywords: ["сила", "терпение", "сострадание", "мужество"]
  },
  {
    id: 9,
    name: "The Hermit",
    name_ru: "Отшельник",
    arcana: "major",
    image: "09-hermit.webp",
    description: "Самоанализ, поиск истины, уединение. Время заглянуть внутрь себя.",
    keywords: ["самоанализ", "мудрость", "уединение", "поиск"]
  },
  {
    id: 10,
    name: "Wheel of Fortune",
    name_ru: "Колесо Фортуны",
    arcana: "major",
    image: "10-wheel-of-fortune.webp",
    description: "Перемены, судьба, циклы жизни. Доверьтесь потоку перемен.",
    keywords: ["перемены", "судьба", "цикл", "удача"]
  },
  {
    id: 11,
    name: "Justice",
    name_ru: "Справедливость",
    arcana: "major",
    image: "11-justice.webp",
    description: "Баланс, правда, причина и следствие. Поступайте честно и справедливо.",
    keywords: ["справедливость", "баланс", "истина", "ответственность"]
  },
  {
    id: 12,
    name: "The Hanged Man",
    name_ru: "Повешенный",
    arcana: "major",
    image: "12-hanged-man.webp",
    description: "Пауза, сдача, новый взгляд. Иногда нужно отпустить, чтобы получить.",
    keywords: ["пауза", "сдача", "жертва", "просветление"]
  },
  {
    id: 13,
    name: "Death",
    name_ru: "Смерть",
    arcana: "major",
    image: "13-death.webp",
    description: "Трансформация, окончание, новое начало. Отпустите старое для нового.",
    keywords: ["трансформация", "окончание", "перерождение", "перемены"]
  },
  {
    id: 14,
    name: "Temperance",
    name_ru: "Умеренность",
    arcana: "major",
    image: "14-temperance.webp",
    description: "Баланс, терпение, исцеление. Найдите золотую середину.",
    keywords: ["баланс", "терпение", "гармония", "исцеление"]
  },
  {
    id: 15,
    name: "The Devil",
    name_ru: "Дьявол",
    arcana: "major",
    image: "15-devil.webp",
    description: "Зависимость, материализм, освобождение. Осознайте свои оковы.",
    keywords: ["зависимость", "искушение", "материя", "освобождение"]
  },
  {
    id: 16,
    name: "The Tower",
    name_ru: "Башня",
    arcana: "major",
    image: "16-tower.webp",
    description: "Внезапные перемены, разрушение иллюзий, пробуждение. Старое рушится для нового.",
    keywords: ["перемены", "разрушение", "пробуждение", "откровение"]
  },
  {
    id: 17,
    name: "The Star",
    name_ru: "Звезда",
    arcana: "major",
    image: "17-star.webp",
    description: "Надежда, вдохновение, исцеление. Верьте в лучшее будущее.",
    keywords: ["надежда", "вдохновение", "вера", "исцеление"]
  },
  {
    id: 18,
    name: "The Moon",
    name_ru: "Луна",
    arcana: "major",
    image: "18-moon.webp",
    description: "Иллюзии, страхи, подсознание. Доверьтесь интуиции в тумане.",
    keywords: ["иллюзия", "страх", "интуиция", "подсознание"]
  },
  {
    id: 19,
    name: "The Sun",
    name_ru: "Солнце",
    arcana: "major",
    image: "19-sun.webp",
    description: "Радость, успех, позитив. Время сиять и наслаждаться жизнью.",
    keywords: ["радость", "успех", "свет", "счастье"]
  },
  {
    id: 20,
    name: "Judgement",
    name_ru: "Суд",
    arcana: "major",
    image: "20-judgement.webp",
    description: "Возрождение, призыв, прощение. Время ответить на высший зов.",
    keywords: ["возрождение", "призыв", "прощение", "трансформация"]
  },
  {
    id: 21,
    name: "The World",
    name_ru: "Мир",
    arcana: "major",
    image: "21-world.webp",
    description: "Завершение, целостность, достижение. Цикл завершён успешно.",
    keywords: ["завершение", "целостность", "достижение", "успех"]
  }
];

// ========================================
// Младшие Арканы — конфигурация
// ========================================

const suits = {
  wands: {
    name: "Жезлы",
    element: "Огонь",
    theme: "Энергия, действие, творчество, амбиции",
    keywords: ["энергия", "действие", "творчество", "рост", "амбиции"]
  },
  cups: {
    name: "Кубки",
    element: "Вода",
    theme: "Эмоции, отношения, чувства, интуиция",
    keywords: ["эмоции", "любовь", "интуиция", "чувства", "отношения"]
  },
  swords: {
    name: "Мечи",
    element: "Воздух",
    theme: "Интеллект, мысли, конфликты, решения",
    keywords: ["интеллект", "мысли", "конфликт", "решения", "истина"]
  },
  pentacles: {
    name: "Пентакли",
    element: "Земля",
    theme: "Материя, финансы, работа, здоровье",
    keywords: ["материя", "финансы", "работа", "здоровье", "стабильность"]
  }
};

const ranks = {
  ace: {
    name: "Туз",
    meaning: "Новое начало, потенциал, возможность. Семя идеи, которое готово прорасти.",
    keywords: ["начало", "потенциал", "возможность", "шанс"]
  },
  two: {
    name: "Двойка",
    meaning: "Баланс, выбор, партнёрство. Необходимость принять решение или найти компромисс.",
    keywords: ["баланс", "выбор", "партнёрство", "решение"]
  },
  three: {
    name: "Тройка",
    meaning: "Рост, сотрудничество, первые результаты. Время для расширения и развития.",
    keywords: ["рост", "сотрудничество", "результаты", "развитие"]
  },
  four: {
    name: "Четвёрка",
    meaning: "Стабильность, пауза, консолидация. Время отдохнуть и укрепить позиции.",
    keywords: ["стабильность", "пауза", "порядок", "укрепление"]
  },
  five: {
    name: "Пятёрка",
    meaning: "Конфликт, перемены, вызов. Время преодоления трудностей.",
    keywords: ["конфликт", "перемены", "вызов", "адаптация"]
  },
  six: {
    name: "Шестёрка",
    meaning: "Гармония, помощь, прогресс. Ситуация улучшается благодаря поддержке.",
    keywords: ["гармония", "помощь", "прогресс", "поддержка"]
  },
  seven: {
    name: "Семёрка",
    meaning: "Размышление, оценка, выбор пути. Время подумать о дальнейших действиях.",
    keywords: ["размышление", "оценка", "выбор", "стратегия"]
  },
  eight: {
    name: "Восьмёрка",
    meaning: "Движение, скорость, прогресс. События развиваются быстро.",
    keywords: ["движение", "скорость", "прогресс", "мастерство"]
  },
  nine: {
    name: "Девятка",
    meaning: "Завершение этапа, удовлетворение, независимость. Результаты близки.",
    keywords: ["завершение", "удовлетворение", "независимость", "достижение"]
  },
  ten: {
    name: "Десятка",
    meaning: "Кульминация, завершение цикла, переход на новый уровень.",
    keywords: ["кульминация", "завершение", "итог", "новый цикл"]
  },
  page: {
    name: "Паж",
    meaning: "Новости, обучение, новый опыт. Время быть открытым к новому.",
    keywords: ["новости", "обучение", "опыт", "любопытство"]
  },
  knight: {
    name: "Рыцарь",
    meaning: "Действие, движение, энергия. Время активных действий и продвижения.",
    keywords: ["действие", "движение", "энергия", "настойчивость"]
  },
  queen: {
    name: "Королева",
    meaning: "Зрелость, забота, мастерство. Время проявить мудрость и поддержку.",
    keywords: ["зрелость", "забота", "мастерство", "поддержка"]
  },
  king: {
    name: "Король",
    meaning: "Власть, контроль, авторитет. Время взять ответственность и руководить.",
    keywords: ["власть", "контроль", "авторитет", "ответственность"]
  }
};

// ========================================
// Генерация Младших Арканов
// ========================================

function generateMinorArcana() {
  const minorCards = [];
  let id = 22;

  Object.entries(suits).forEach(([suitKey, suit]) => {
    Object.entries(ranks).forEach(([rankKey, rank]) => {
      const card = {
        id: id++,
        name: `${rank.name} ${suit.name}`,
        name_ru: `${rank.name} ${suit.name}`,
        arcana: "minor",
        suit: suitKey,
        rank: rankKey,
        image: `${suitKey}-${rankKey}.webp`,
        description: `${rank.meaning} В сфере ${suit.theme.toLowerCase()}.`,
        keywords: [...suit.keywords.slice(0, 2), ...rank.keywords.slice(0, 2)]
      };
      minorCards.push(card);
    });
  });

  return minorCards;
}

// ========================================
// Экспорт всех карт
// ========================================

export const cards = [...majorArcana, ...generateMinorArcana()];

/**
 * Получить карту по ID
 */
export function getCardById(id) {
  return cards.find(card => card.id === id);
}

/**
 * Получить случайную карту
 */
export function getRandomCard() {
  const randomIndex = Math.floor(Math.random() * cards.length);
  return cards[randomIndex];
}

/**
 * Получить N случайных уникальных карт
 */
export function getRandomCards(count) {
  const shuffled = [...cards].sort(() => Math.random() - 0.5);
  return shuffled.slice(0, count);
}
