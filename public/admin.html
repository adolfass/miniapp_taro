<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Äî –ó–æ–ª–æ—Ç–æ–µ –¢–∞—Ä–æ</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Cinzel:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/admin.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div id="app">
    <canvas id="stars-canvas"></canvas>
    
    <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <section id="screen-dashboard" class="screen active">
      <h1 class="admin-title">–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>
      
      <!-- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">üí∞</div>
          <div class="stat-value" id="total-revenue">0</div>
          <div class="stat-label">–û–±—â–∏–π –¥–æ—Ö–æ–¥ (–∑–≤—ë–∑–¥)</div>
        </div>
        
        <div class="stat-card">
          <div class="stat-icon">üìä</div>
          <div class="stat-value" id="developer-cut">0</div>
          <div class="stat-label">–ö–æ–º–∏—Å—Å–∏—è 10% (–∑–≤—ë–∑–¥)</div>
        </div>
        
        <div class="stat-card">
          <div class="stat-icon">üë•</div>
          <div class="stat-value" id="total-tarologists">0</div>
          <div class="stat-label">–¢–∞—Ä–æ–ª–æ–≥–æ–≤</div>
        </div>
        
        <div class="stat-card">
          <div class="stat-icon">üí¨</div>
          <div class="stat-value" id="total-sessions">0</div>
          <div class="stat-label">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π</div>
        </div>
      </div>
      
      <!-- –ë–∞–ª–∞–Ω—Å –∫ –≤—ã–ø–ª–∞—Ç–µ -->
      <div class="payout-summary">
        <h2 class="section-title">üí∏ –ö –≤—ã–ø–ª–∞—Ç–µ —Ç–∞—Ä–æ–ª–æ–≥–∞–º</h2>
        <div class="payout-total">
          <span class="payout-amount" id="total-payout">0</span>
          <span class="payout-currency">–∑–≤—ë–∑–¥</span>
        </div>
        <button class="action-btn" id="show-payouts-btn">
          –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–ø–ª–∞—Ç—ã
        </button>
      </div>
      
      <!-- –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
      <div class="nav-buttons">
        <button class="nav-btn" id="tarologists-btn">
          üë• –¢–∞—Ä–æ–ª–æ–≥–∏
        </button>
        <button class="nav-btn" id="transactions-btn">
          üìã –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
        </button>
      </div>
    </section>
    
    <!-- –≠–∫—Ä–∞–Ω: —Å–ø–∏—Å–æ–∫ —Ç–∞—Ä–æ–ª–æ–≥–æ–≤ -->
    <section id="screen-tarologists-list" class="screen">
      <h2 class="screen-title">–¢–∞—Ä–æ–ª–æ–≥–∏</h2>

      <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
      <button class="add-btn" id="add-tarologist-btn">
        ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–∞—Ä–æ–ª–æ–≥–∞
      </button>

      <div class="tarologists-admin-list" id="tarologists-admin-list">
        <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
      </div>

      <div class="loading" id="tarologists-loading">
        <div class="spinner"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
      </div>

      <button class="back-btn" id="back-to-dashboard-tarologists">
        ‚Üê –ù–∞–∑–∞–¥
      </button>
    </section>
    
    <!-- –≠–∫—Ä–∞–Ω: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ -->
    <section id="screen-transactions" class="screen">
      <h2 class="screen-title">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</h2>
      
      <!-- –§–∏–ª—å—Ç—Ä—ã -->
      <div class="filters">
        <select class="filter-select" id="filter-period">
          <option value="7">–ó–∞ 7 –¥–Ω–µ–π</option>
          <option value="30" selected>–ó–∞ 30 –¥–Ω–µ–π</option>
          <option value="90">–ó–∞ 90 –¥–Ω–µ–π</option>
          <option value="all">–í—Å–µ</option>
        </select>
      </div>
      
      <div class="transactions-list" id="transactions-list">
        <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
      </div>
      
      <div class="loading" id="transactions-loading">
        <div class="spinner"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
      </div>
      
      <button class="back-btn" id="back-to-dashboard-transactions">
        ‚Üê –ù–∞–∑–∞–¥
      </button>
    </section>
    
    <!-- –≠–∫—Ä–∞–Ω: –≤—ã–ø–ª–∞—Ç—ã -->
    <section id="screen-payouts" class="screen">
      <h2 class="screen-title">–í—ã–ø–ª–∞—Ç—ã —Ç–∞—Ä–æ–ª–æ–≥–∞–º</h2>
      
      <div class="payouts-list" id="payouts-list">
        <!-- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
      </div>
      
      <div class="loading" id="payouts-loading">
        <div class="spinner"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
      </div>
      
      <button class="back-btn" id="back-to-dashboard-payouts">
        ‚Üê –ù–∞–∑–∞–¥
      </button>
    </section>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∞—Ä–æ–ª–æ–≥–µ -->
    <div class="modal" id="tarologist-modal">
      <div class="modal-content modal-tarologist">
        <h3 class="modal-title" id="modal-tarologist-name">–ò–º—è —Ç–∞—Ä–æ–ª–æ–≥–∞</h3>
        
        <div class="tarologist-stats">
          <div class="stat-row">
            <span class="stat-label">–ë–∞–ª–∞–Ω—Å:</span>
            <span class="stat-value stars" id="modal-tarologist-balance">0 ‚≠ê</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π:</span>
            <span class="stat-value" id="modal-tarologist-sessions">0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">–†–µ–π—Ç–∏–Ω–≥:</span>
            <span class="stat-value" id="modal-tarologist-rating">0.0</span>
          </div>
          <div class="stat-row">
            <span class="stat-label">–í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ:</span>
            <span class="stat-value stars" id="modal-tarologist-total">0 ‚≠ê</span>
          </div>
        </div>
        
        <div class="modal-actions">
          <button class="action-btn action-btn-primary" id="mark-payout-btn">
            ‚úÖ –û—Ç–º–µ—Ç–∏—Ç—å –≤—ã–ø–ª–∞—Ç—É
          </button>
          <button class="action-btn action-btn-secondary" id="close-modal-btn">
            –ó–∞–∫—Ä—ã—Ç—å
          </button>
        </div>
      </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–ø–ª–∞—Ç—ã -->
    <div class="modal" id="payout-confirm-modal">
      <div class="modal-content modal-confirm">
        <h3 class="modal-title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–ø–ª–∞—Ç—ã</h3>

        <p class="confirm-text">
          –í—ã–ø–ª–∞—Ç–∞ <strong id="confirm-amount">0</strong> –∑–≤—ë–∑–¥ —Ç–∞—Ä–æ–ª–æ–≥—É <strong id="confirm-name">–ò–º—è</strong>?
        </p>

        <div class="confirm-actions">
          <button class="action-btn action-btn-secondary" id="cancel-payout-btn">
            –û—Ç–º–µ–Ω–∞
          </button>
          <button class="action-btn action-btn-primary" id="confirm-payout-btn">
            ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
          </button>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞—Ä–æ–ª–æ–≥–∞ -->
    <div class="modal" id="tarologist-edit-modal">
      <div class="modal-content modal-tarologist-edit">
        <h3 class="modal-title" id="edit-modal-title">–î–æ–±–∞–≤–∏—Ç—å —Ç–∞—Ä–æ–ª–æ–≥–∞</h3>

        <div class="form-group">
          <label class="form-label">Telegram ID *</label>
          <input type="text" class="form-input" id="edit-telegram-id" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 123456789">
          <small class="form-hint">ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram. –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —É @userinfobot</small>
        </div>

        <div class="form-group">
          <label class="form-label">–ò–º—è</label>
          <input type="text" class="form-input" id="edit-name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞">
          <small class="form-hint">–ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –±—É–¥–µ—Ç –≤–∑—è—Ç–æ –∏–∑ Telegram</small>
        </div>

        <div class="form-group">
          <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
          <textarea class="form-input form-textarea" id="edit-description" placeholder="–û–ø—ã—Ç, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è..."></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">–§–æ—Ç–æ (URL)</label>
          <input type="text" class="form-input" id="edit-photo-url" placeholder="https://...">
          <small class="form-hint">–ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –±—É–¥–µ—Ç –≤–∑—è—Ç–æ –∏–∑ Telegram</small>
        </div>

        <div class="modal-actions">
          <button class="action-btn action-btn-secondary" id="cancel-edit-btn">
            –û—Ç–º–µ–Ω–∞
          </button>
          <button class="action-btn action-btn-primary" id="save-tarologist-btn">
            üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <script type="module" src="/js/admin.js"></script>
</body>
</html>
